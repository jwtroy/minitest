
spring:
  application:
    name: account-app
    admin:
      enabled: true
  http:
    encoding:
      charset: UTF-8
      force: true
  cloud:
    config:
      name: account
      enabled: true
      failFast: false
#      uri: http://192.168.90.11:8001
      discovery:
        enabled: true
        service-id: config-app
  sleuth:
    sampler:
      percentage: 1.0
  freemarker:
    cache: false
  jackson:
    serialization:
      fail-on-empty-beans: false
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: Asia/Shanghai
  jpa:
    properties:
      hibernate:
        jdbc:
          batch_size: 20
          batch_versioned_data: true
        order_inserts: true
        order_updates: true

security:
#  ignored: /health,/info

eureka:
  instance:
    hostname: ${spring.application.name}
    preferIpAddress: true
    metadata-map:
      management.context-path: ${server.context-path}${management.context-path}
    health-check-url-path:  ${server.context-path}${management.context-path}/health
    home-page-url-path: ${server.context-path}
    status-page-url-path: ${server.context-path}${management.context-path}/info
    #/account/health
  client:
    serviceUrl:
      defaultZone: ${app.center}
    healthcheck:
      enabled: true

feign:
  client:
    config:
      default:
        connectTimeout: 10000
        readTimeout: 10000
        loggerLevel: basic
  httpclient:
    enabled:  false
  hystrix:
    enabled: true

hystrix:
  command:
    default:
      execution:
        isolation:
#          strategy: THREAD
          strategy: SEMAPHORE
          semaphore:
            maxConcurrentRequests: 5000
          thread:
            timeoutInMilliseconds: 10000

ribbon:
  eureka:
    enabled: true
  okhttp:
    enabled: true

management:
  security:
    enabled: false
  context-path: /matp

endpoints:
  enabled: true
#  health:
#    path: ${management.context-path}/health
  shutdown:
    enabled: false
  cors:
    allowed-origins: '*'
